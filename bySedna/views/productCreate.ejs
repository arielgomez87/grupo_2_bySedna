<!DOCTYPE html>
<html lang="es">

<head>
  <%- include ("./partials/head", {title: 'Creacion del producto ' }) %>
</head>

<body>
  
  <header>
    <%- include ("./partials/header") %>
  </header>

  <main>

    <div>
      <main class="mainCreate">

        <div>
          <h3>Formulario de Creacion: </h3>
        </div>
        <br>
                  <!--importante para que se carguen las imagenes el method y el enctype-->
        <form action="/products/create" method="POST" enctype="multipart/form-data"> 
          <div>
            <label for="name">Nombre: </label>
            <input type="text" id="name" name="name" class="form-input <%= locals.errors && errors.name ? " is-invalid" : "" %> name"
            value="<%= locals.oldData ? oldData.name : null %>" >
                    <span></span>
                    <% if(locals.errors && errors.name) { %>
                        <div class="text-danger">
                            <%= errors.name.msg %>
                        </div>
                        <% } %>
          </div>
          <br>
          <div>
            <label for="price">Precio: </label>
            <input type="text" id="price" name="price" class="form-input <%= locals.errors && errors.price ? " is-invalid" : "" %> price"
            value="<%= locals.oldData ? oldData.price : null %>" >
                    <span></span>
                    <% if(locals.errors && errors.price) { %>
                        <div class="text-danger">
                            <%= errors.price.msg %>
                        </div>
                        <% } %>
          </div>
          <br>
          <div>
            <label for="discount">Descuento:</label>
            <input type="text" id="discount" name="discount" class="form-input <%= locals.errors && errors.discount ? " is-invalid" : "" %> discount"
            value="<%= locals.oldData ? oldData.discount : null %>" >
                    <span></span>
                    <% if(locals.errors && errors.discount) { %>
                        <div class="text-danger">
                            <%= errors.discount.msg %>
                        </div>
                        <% } %>
          </div>
          <br>
          <div>
						<label for="size" >Talle:</label>
						<select name="sizes" id="size" class="form-input <%= locals.errors && errors.sizes ? " is-invalid" : "" %> sizes" multiple>
							<option value="" selected>Elegir Talle</option>
                    <% for( let i=0; i < sizes.length; i++ ) {%>
                        <option value="<%= sizes[i].id %>">
                            <%=sizes[i].name %>
                        </option>
                        <% } %>
						</select>
            <span></span>
                <% if(locals.errors && errors.sizes) { %>
                    <div class="text-danger">
                        <%= errors.sizes.msg %>
                    </div>
                    <% } %>
					</div>
          <br>
          <div>
            <label for="productImage">Imagen:</label>
            <input type="file" name="productImage" class="form-input <%= locals.errors && errors.productImage ? " is-invalid" : "" %>
            productImage">
            <span></span>
                    <% if(locals.errors && errors.productImage) { %>
                        <div class="text-danger">
                            <%= errors.productImage.msg %>
                        </div>
                        <% } %>
          </div>
          <br>
          <div>
            <label for="description" class="form-label">Descripci√≥n: </label>
						<textarea name="description" id="description" class="form-input <%= locals.errors && errors.description ? " is-invalid" : "" %>
              description" value="<%= locals.oldData ? oldData.description : null %>"></textarea>
              <span></span>
                    <% if(locals.errors && errors.description) { %>
                        <div class="text-danger">
                            <%= errors.description.msg %>
                        </div>
                        <% } %>
          </div>
          <div>
						<button type="submit" class="create-button">Guardar producto</button>
					</div>
          
        </form>
        <script src="/js/js-frontProduct.js"></script>
      </main>
    </div>

  </main>

  <footer>
    <%- include ("./partials/footer") %>
  </footer>

</body>

</html>